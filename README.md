# 设计思想

- 解耦，解耦，再解耦。
- 最好能在一个模块完全不知道另一个模块具体实现的情况下，完成自己的任务，尤其重要的是完成与那个他自己都不认识的模块合作的任务。
- 举例而言：即使我主界面不用LineEdit了，我的子模块照样可以工作！
- 接口设计统一在Virtual基类里面，然后具体的Layout都继承自这个Virtual类，实现对Layout共有功能的改动“一次更改，全面生效”。
- 具体实现方法，我们既然用了Qt，就不要自己写回调函数了，直接定义signal和slot，在用的时候emit发射信号即可。
- 这样，我的发送义务就只有发射统一格式的信号，你那边怎么接收，我这个模块不关心。
- 这样，我的接收义务就只有用槽接收统一格式的信号，信号什么时候来，谁发过来，我都不关心。
# 模块综述

- 主界面，下辖着主界面的LineEdit，这是整个软件的核心。
- MainLayout，继承BaseLayout，自基本计算器布局
- ScienceLayout，继承BaseLayout，科学计算器布局
- LoanLayout，继承BaseLayout，利息计算器布局

# 技术细节

# BaseLayout
- 在这里实现了通用且统一的Layout权利法案
- 除此之外，有一个onCommitClicked()的纯虚函数，也就是说，默认每个Layout都必然有递交功能。
- 这样写为下面统一按键输入方式奠定基础。因为按下Enter毕竟是需要触发onCommitClicked()的。
- 统一的按键输入方式。特殊按键特殊处理。
- 一些固定的连接，但我还没有看到有哪些连接是固定的，所以就暂定留在这里了。
- 统一一个默认的按钮样式。

## 主界面权利法案
主界面有以下几个组件间权利：
- 接收这三种信号：
	- 请求直接重设对话框内容
	- 请求清空对话框内容
	- 申请获得对话框内容
- 发射这一种信号：
	- 转发键盘信号

## Layout权利法案
每个Layout都有以下几个组件间权利：
- 在被创建时接收主界面的指针
- 通过public接口函数直接查询主界面的指针（一般不要用！）
```C++
 QWidget* getCentralWidget() const { return centralWidget; }
```
- 发射这三种信号：
	- 请求直接重设对话框内容
	- 请求清空对话框内容
	- 申请获得对话框内容
- 接收这一种信号：
	- 主界面转发的键盘信号

## 合作流程
于是他们的工作流程是这样的：
【主界面】创建菜单和对话框，以主计算器初始化
【主计算器】接到通知，被创建
【主界面】选择科学计算器
【主界面】删除主计算器，初始化科学计算器
【科学计算器】接到通知，被创建
以此类推...
